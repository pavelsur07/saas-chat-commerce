{% set activeId = activeCompany ? activeCompany.id : null %}
<div class="text-sm space-y-2">
    <label for="company-switcher" class="block text-xs font-semibold uppercase tracking-wider text-gray-400">Компания</label>
    <div class="relative">
        <select
            id="company-switcher"
            class="w-full appearance-none rounded border border-gray-700 bg-gray-800 px-3 py-2 pr-10 text-sm text-gray-100 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-0 transition-colors"
            onchange="if(this.value) window.location.href=this.value;"
        >
            {% if companies is empty %}
                <option disabled selected>не выбрана</option>
            {% else %}
                {% for uc in companies %}
                    <option value="{{ path('company.switch', {id: uc.company.id}) }}" {% if activeId == uc.company.id %}selected{% endif %}>{{ uc.company.name }}</option>
                {% endfor %}
            {% endif %}
        </select>
        <svg class="pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 8l4 4 4-4" />
        </svg>
    </div>
</div>
